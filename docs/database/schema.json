{"name":"postgres","desc":"","tables":[{"name":"auth.users","type":"BASE TABLE","comment":"Auth: Stores user login data within a secure schema.","columns":[{"name":"instance_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"aud","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"role","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"email","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"encrypted_password","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"confirmed_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"invited_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"confirmation_token","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"confirmation_sent_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"recovery_token","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"recovery_sent_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"email_change_token","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"email_change","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"email_change_sent_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"last_sign_in_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"raw_app_meta_data","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"raw_user_meta_data","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"is_super_admin","type":"boolean","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"users_pkey","def":"CREATE UNIQUE INDEX users_pkey ON auth.users USING btree (id)","table":"auth.users","columns":["id"],"comment":""},{"name":"users_email_key","def":"CREATE UNIQUE INDEX users_email_key ON auth.users USING btree (email)","table":"auth.users","columns":["email"],"comment":""},{"name":"users_instance_id_email_idx","def":"CREATE INDEX users_instance_id_email_idx ON auth.users USING btree (instance_id, email)","table":"auth.users","columns":["email","instance_id"],"comment":""},{"name":"users_instance_id_idx","def":"CREATE INDEX users_instance_id_idx ON auth.users USING btree (instance_id)","table":"auth.users","columns":["instance_id"],"comment":""}],"constraints":[{"name":"users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"auth.users","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"users_email_key","type":"UNIQUE","def":"UNIQUE (email)","table":"auth.users","referenced_table":"","columns":["email"],"referenced_columns":[],"comment":""}],"triggers":[{"name":"on_auth_user_created","def":"CREATE TRIGGER on_auth_user_created AFTER INSERT ON auth.users FOR EACH ROW EXECUTE FUNCTION handle_new_user()","comment":""}],"def":""},{"name":"auth.refresh_tokens","type":"BASE TABLE","comment":"Auth: Store of tokens used to refresh JWT tokens once they expire.","columns":[{"name":"instance_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"id","type":"bigint","nullable":false,"default":"nextval('auth.refresh_tokens_id_seq'::regclass)","comment":""},{"name":"token","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"user_id","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"revoked","type":"boolean","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"refresh_tokens_pkey","def":"CREATE UNIQUE INDEX refresh_tokens_pkey ON auth.refresh_tokens USING btree (id)","table":"auth.refresh_tokens","columns":["id"],"comment":""},{"name":"refresh_tokens_instance_id_idx","def":"CREATE INDEX refresh_tokens_instance_id_idx ON auth.refresh_tokens USING btree (instance_id)","table":"auth.refresh_tokens","columns":["instance_id"],"comment":""},{"name":"refresh_tokens_instance_id_user_id_idx","def":"CREATE INDEX refresh_tokens_instance_id_user_id_idx ON auth.refresh_tokens USING btree (instance_id, user_id)","table":"auth.refresh_tokens","columns":["instance_id","user_id"],"comment":""},{"name":"refresh_tokens_token_idx","def":"CREATE INDEX refresh_tokens_token_idx ON auth.refresh_tokens USING btree (token)","table":"auth.refresh_tokens","columns":["token"],"comment":""}],"constraints":[{"name":"refresh_tokens_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"auth.refresh_tokens","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"auth.instances","type":"BASE TABLE","comment":"Auth: Manages users across multiple sites.","columns":[{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"uuid","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"raw_base_config","type":"text","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"instances_pkey","def":"CREATE UNIQUE INDEX instances_pkey ON auth.instances USING btree (id)","table":"auth.instances","columns":["id"],"comment":""}],"constraints":[{"name":"instances_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"auth.instances","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"auth.audit_log_entries","type":"BASE TABLE","comment":"Auth: Audit trail for user actions.","columns":[{"name":"instance_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"payload","type":"json","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"audit_log_entries_pkey","def":"CREATE UNIQUE INDEX audit_log_entries_pkey ON auth.audit_log_entries USING btree (id)","table":"auth.audit_log_entries","columns":["id"],"comment":""},{"name":"audit_logs_instance_id_idx","def":"CREATE INDEX audit_logs_instance_id_idx ON auth.audit_log_entries USING btree (instance_id)","table":"auth.audit_log_entries","columns":["instance_id"],"comment":""}],"constraints":[{"name":"audit_log_entries_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"auth.audit_log_entries","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"auth.schema_migrations","type":"BASE TABLE","comment":"Auth: Manages updates to the auth system.","columns":[{"name":"version","type":"varchar(255)","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"schema_migrations_pkey","def":"CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)","table":"auth.schema_migrations","columns":["version"],"comment":""}],"constraints":[{"name":"schema_migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"auth.schema_migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"storage.buckets","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"text","nullable":false,"default":null,"comment":""},{"name":"name","type":"text","nullable":false,"default":null,"comment":""},{"name":"owner","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"buckets_pkey","def":"CREATE UNIQUE INDEX buckets_pkey ON storage.buckets USING btree (id)","table":"storage.buckets","columns":["id"],"comment":""},{"name":"bname","def":"CREATE UNIQUE INDEX bname ON storage.buckets USING btree (name)","table":"storage.buckets","columns":["name"],"comment":""}],"constraints":[{"name":"buckets_owner_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (owner) REFERENCES auth.users(id)","table":"storage.buckets","referenced_table":"users","columns":["owner"],"referenced_columns":["id"],"comment":""},{"name":"buckets_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"storage.buckets","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"storage.objects","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"bucket_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"name","type":"text","nullable":true,"default":null,"comment":""},{"name":"owner","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"last_accessed_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"metadata","type":"jsonb","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"objects_pkey","def":"CREATE UNIQUE INDEX objects_pkey ON storage.objects USING btree (id)","table":"storage.objects","columns":["id"],"comment":""},{"name":"bucketid_objname","def":"CREATE UNIQUE INDEX bucketid_objname ON storage.objects USING btree (bucket_id, name)","table":"storage.objects","columns":["bucket_id","name"],"comment":""},{"name":"name_prefix_search","def":"CREATE INDEX name_prefix_search ON storage.objects USING btree (name text_pattern_ops)","table":"storage.objects","columns":["name"],"comment":""}],"constraints":[{"name":"objects_owner_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (owner) REFERENCES auth.users(id)","table":"storage.objects","referenced_table":"users","columns":["owner"],"referenced_columns":["id"],"comment":""},{"name":"objects_bucketId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","table":"storage.objects","referenced_table":"buckets","columns":["bucket_id"],"referenced_columns":["id"],"comment":""},{"name":"objects_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"storage.objects","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"storage.migrations","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":null,"comment":""},{"name":"name","type":"varchar(100)","nullable":false,"default":null,"comment":""},{"name":"hash","type":"varchar(40)","nullable":false,"default":null,"comment":""},{"name":"executed_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":""}],"indexes":[{"name":"migrations_pkey","def":"CREATE UNIQUE INDEX migrations_pkey ON storage.migrations USING btree (id)","table":"storage.migrations","columns":["id"],"comment":""},{"name":"migrations_name_key","def":"CREATE UNIQUE INDEX migrations_name_key ON storage.migrations USING btree (name)","table":"storage.migrations","columns":["name"],"comment":""}],"constraints":[{"name":"migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"storage.migrations","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"migrations_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"storage.migrations","referenced_table":"","columns":["name"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"net.http_request_queue","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('net.http_request_queue_id_seq'::regclass)","comment":""},{"name":"method","type":"net.http_method","nullable":false,"default":null,"comment":""},{"name":"url","type":"text","nullable":false,"default":null,"comment":""},{"name":"headers","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"body","type":"bytea","nullable":true,"default":null,"comment":""},{"name":"timeout_milliseconds","type":"integer","nullable":false,"default":null,"comment":""}],"indexes":[],"constraints":[],"triggers":[],"def":""},{"name":"net._http_response","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"status_code","type":"integer","nullable":true,"default":null,"comment":""},{"name":"content_type","type":"text","nullable":true,"default":null,"comment":""},{"name":"headers","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"content","type":"text","nullable":true,"default":null,"comment":""},{"name":"timed_out","type":"boolean","nullable":true,"default":null,"comment":""},{"name":"error_msg","type":"text","nullable":true,"default":null,"comment":""},{"name":"created","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"_http_response_created_idx","def":"CREATE INDEX _http_response_created_idx ON net._http_response USING btree (created)","table":"net._http_response","columns":["created"],"comment":""}],"constraints":[],"triggers":[],"def":""},{"name":"supabase_functions.migrations","type":"BASE TABLE","comment":"","columns":[{"name":"version","type":"text","nullable":false,"default":null,"comment":""},{"name":"inserted_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"migrations_pkey","def":"CREATE UNIQUE INDEX migrations_pkey ON supabase_functions.migrations USING btree (version)","table":"supabase_functions.migrations","columns":["version"],"comment":""}],"constraints":[{"name":"migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"supabase_functions.migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"supabase_functions.hooks","type":"BASE TABLE","comment":"Supabase Functions Hooks: Audit trail for triggered hooks.","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('supabase_functions.hooks_id_seq'::regclass)","comment":""},{"name":"hook_table_id","type":"integer","nullable":false,"default":null,"comment":""},{"name":"hook_name","type":"text","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""},{"name":"request_id","type":"bigint","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"hooks_pkey","def":"CREATE UNIQUE INDEX hooks_pkey ON supabase_functions.hooks USING btree (id)","table":"supabase_functions.hooks","columns":["id"],"comment":""},{"name":"supabase_functions_hooks_request_id_idx","def":"CREATE INDEX supabase_functions_hooks_request_id_idx ON supabase_functions.hooks USING btree (request_id)","table":"supabase_functions.hooks","columns":["request_id"],"comment":""},{"name":"supabase_functions_hooks_h_table_id_h_name_idx","def":"CREATE INDEX supabase_functions_hooks_h_table_id_h_name_idx ON supabase_functions.hooks USING btree (hook_table_id, hook_name)","table":"supabase_functions.hooks","columns":["hook_name","hook_table_id"],"comment":""}],"constraints":[{"name":"hooks_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"supabase_functions.hooks","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.study","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":""},{"name":"contact","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"title","type":"text","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":false,"default":null,"comment":""},{"name":"icon_name","type":"text","nullable":false,"default":null,"comment":""},{"name":"published","type":"boolean","nullable":false,"default":"false","comment":""},{"name":"registry_published","type":"boolean","nullable":false,"default":"false","comment":""},{"name":"questionnaire","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"eligibility_criteria","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"observations","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"interventions","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"consent","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"schedule","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"report_specification","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"results","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":"UserId of study creator"},{"name":"participation","type":"participation","nullable":false,"default":"'invite'::participation","comment":""},{"name":"result_sharing","type":"result_sharing","nullable":false,"default":"'private'::result_sharing","comment":""},{"name":"collaborator_emails","type":"text[]","nullable":false,"default":"'{}'::text[]","comment":""}],"indexes":[{"name":"study_pkey","def":"CREATE UNIQUE INDEX study_pkey ON public.study USING btree (id)","table":"public.study","columns":["id"],"comment":""}],"constraints":[{"name":"study_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.study","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"study_userId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id)","table":"public.study","referenced_table":"user","columns":["user_id"],"referenced_columns":["id"],"comment":""}],"triggers":[{"name":"handle_updated_at","def":"CREATE TRIGGER handle_updated_at BEFORE UPDATE ON public.study FOR EACH ROW EXECUTE FUNCTION moddatetime('updated_at')","comment":""}],"def":""},{"name":"public.study_subject","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":""},{"name":"study_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"started_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"selected_intervention_ids","type":"text[]","nullable":false,"default":null,"comment":""},{"name":"invite_code","type":"text","nullable":true,"default":null,"comment":""},{"name":"is_deleted","type":"boolean","nullable":false,"default":"false","comment":""}],"indexes":[{"name":"study_subject_pkey","def":"CREATE UNIQUE INDEX study_subject_pkey ON public.study_subject USING btree (id)","table":"public.study_subject","columns":["id"],"comment":""}],"constraints":[{"name":"study_subject_loginCode_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (invite_code) REFERENCES study_invite(code) ON DELETE CASCADE","table":"public.study_subject","referenced_table":"study_invite","columns":["invite_code"],"referenced_columns":["code"],"comment":""},{"name":"study_subject_studyId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (study_id) REFERENCES study(id) ON DELETE CASCADE","table":"public.study_subject","referenced_table":"study","columns":["study_id"],"referenced_columns":["id"],"comment":""},{"name":"study_subject_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.study_subject","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"study_subject_userId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id)","table":"public.study_subject","referenced_table":"user","columns":["user_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.app_config","type":"BASE TABLE","comment":"Stores app config for different envs","columns":[{"name":"id","type":"text","nullable":false,"default":null,"comment":""},{"name":"app_privacy","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"app_terms","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"designer_privacy","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"designer_terms","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"imprint","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"contact","type":"jsonb","nullable":false,"default":"'{\"email\": \"hpi-info@hpi.de\", \"phone\": \"+49-(0)331 5509-0\", \"website\": \"https://hpi.de/\", \"organization\": \"Hasso Plattner Institute\"}'::jsonb","comment":""},{"name":"analytics","type":"jsonb","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"AppConfig_pkey","def":"CREATE UNIQUE INDEX \"AppConfig_pkey\" ON public.app_config USING btree (id)","table":"public.app_config","columns":["id"],"comment":""}],"constraints":[{"name":"AppConfig_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.app_config","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.repo","type":"BASE TABLE","comment":"Git repo where the generated project is stored","columns":[{"name":"project_id","type":"text","nullable":false,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"study_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"provider","type":"git_provider","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"repo_pkey","def":"CREATE UNIQUE INDEX repo_pkey ON public.repo USING btree (project_id)","table":"public.repo","columns":["project_id"],"comment":""}],"constraints":[{"name":"repo_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (project_id)","table":"public.repo","referenced_table":"","columns":["project_id"],"referenced_columns":[],"comment":""},{"name":"repo_studyId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (study_id) REFERENCES study(id)","table":"public.repo","referenced_table":"study","columns":["study_id"],"referenced_columns":["id"],"comment":""},{"name":"repo_userId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id) ON DELETE CASCADE","table":"public.repo","referenced_table":"user","columns":["user_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.study_invite","type":"BASE TABLE","comment":"Study invite codes","columns":[{"name":"code","type":"text","nullable":false,"default":null,"comment":""},{"name":"study_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"preselected_intervention_ids","type":"text[]","nullable":true,"default":null,"comment":"Intervention Ids (and order) preselected by study creator"}],"indexes":[{"name":"study_invite_pkey","def":"CREATE UNIQUE INDEX study_invite_pkey ON public.study_invite USING btree (code)","table":"public.study_invite","columns":["code"],"comment":""}],"constraints":[{"name":"study_invite_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (code)","table":"public.study_invite","referenced_table":"","columns":["code"],"referenced_columns":[],"comment":""},{"name":"study_invite_studyId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (study_id) REFERENCES study(id) ON DELETE CASCADE","table":"public.study_invite","referenced_table":"study","columns":["study_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.subject_progress","type":"BASE TABLE","comment":"","columns":[{"name":"completed_at","type":"timestamp with time zone","nullable":false,"default":"timezone('utc'::text, now())","comment":""},{"name":"subject_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"intervention_id","type":"text","nullable":false,"default":null,"comment":""},{"name":"task_id","type":"text","nullable":false,"default":null,"comment":""},{"name":"result_type","type":"text","nullable":false,"default":null,"comment":""},{"name":"result","type":"jsonb","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"participant_progress_pkey","def":"CREATE UNIQUE INDEX participant_progress_pkey ON public.subject_progress USING btree (completed_at, subject_id)","table":"public.subject_progress","columns":["completed_at","subject_id"],"comment":""}],"constraints":[{"name":"participant_progress_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (completed_at, subject_id)","table":"public.subject_progress","referenced_table":"","columns":["completed_at","subject_id"],"referenced_columns":[],"comment":""},{"name":"participant_progress_subjectId_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (subject_id) REFERENCES study_subject(id) ON DELETE CASCADE","table":"public.subject_progress","referenced_table":"study_subject","columns":["subject_id"],"referenced_columns":["id"],"comment":""}],"triggers":[],"def":""},{"name":"public.study_progress_export","type":"VIEW","comment":"","columns":[{"name":"completed_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"intervention_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"task_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"result_type","type":"text","nullable":true,"default":null,"comment":""},{"name":"result","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"subject_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"study_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"started_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"selected_intervention_ids","type":"text[]","nullable":true,"default":null,"comment":""}],"indexes":[],"constraints":[],"triggers":[],"def":"CREATE VIEW study_progress_export AS (\n SELECT subject_progress.completed_at,\n    subject_progress.intervention_id,\n    subject_progress.task_id,\n    subject_progress.result_type,\n    subject_progress.result,\n    subject_progress.subject_id,\n    study_subject.user_id,\n    study_subject.study_id,\n    study_subject.started_at,\n    study_subject.selected_intervention_ids\n   FROM study_subject,\n    subject_progress\n  WHERE (study_subject.id = subject_progress.subject_id)\n)","referenced_tables":["public.study_subject"]},{"name":"public.user","type":"BASE TABLE","comment":"Users get automatically added, when a new user is created in auth.users","columns":[{"name":"id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"email","type":"text","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"user_pkey","def":"CREATE UNIQUE INDEX user_pkey ON public.\"user\" USING btree (id)","table":"public.user","columns":["id"],"comment":""}],"constraints":[{"name":"user_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.user","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"storage.buckets","columns":["owner"],"cardinality":"Zero or more","parent_table":"auth.users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (owner) REFERENCES auth.users(id)","virtual":false},{"table":"storage.objects","columns":["owner"],"cardinality":"Zero or more","parent_table":"auth.users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (owner) REFERENCES auth.users(id)","virtual":false},{"table":"storage.objects","columns":["bucket_id"],"cardinality":"Zero or more","parent_table":"storage.buckets","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)","virtual":false},{"table":"public.study","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.user","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id)","virtual":false},{"table":"public.study_subject","columns":["invite_code"],"cardinality":"Zero or more","parent_table":"public.study_invite","parent_columns":["code"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (invite_code) REFERENCES study_invite(code) ON DELETE CASCADE","virtual":false},{"table":"public.study_subject","columns":["study_id"],"cardinality":"Zero or more","parent_table":"public.study","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (study_id) REFERENCES study(id) ON DELETE CASCADE","virtual":false},{"table":"public.study_subject","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.user","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id)","virtual":false},{"table":"public.repo","columns":["study_id"],"cardinality":"Zero or more","parent_table":"public.study","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (study_id) REFERENCES study(id)","virtual":false},{"table":"public.repo","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.user","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES \"user\"(id) ON DELETE CASCADE","virtual":false},{"table":"public.study_invite","columns":["study_id"],"cardinality":"Zero or more","parent_table":"public.study","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (study_id) REFERENCES study(id) ON DELETE CASCADE","virtual":false},{"table":"public.subject_progress","columns":["subject_id"],"cardinality":"Zero or more","parent_table":"public.study_subject","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (subject_id) REFERENCES study_subject(id) ON DELETE CASCADE","virtual":false}],"functions":[{"name":"auth.role","return_type":"text","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_generate_v4","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_generate_v5","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"},{"name":"pgbouncer.get_auth","return_type":"record","arguments":"p_usename text","type":"FUNCTION"},{"name":"storage.filename","return_type":"text","arguments":"name text","type":"FUNCTION"},{"name":"extensions.digest","return_type":"bytea","arguments":"text, text","type":"FUNCTION"},{"name":"extensions.digest","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"extensions.hmac","return_type":"bytea","arguments":"text, text, text","type":"FUNCTION"},{"name":"extensions.hmac","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.crypt","return_type":"text","arguments":"text, text","type":"FUNCTION"},{"name":"extensions.gen_salt","return_type":"text","arguments":"text","type":"FUNCTION"},{"name":"extensions.gen_salt","return_type":"text","arguments":"text, integer","type":"FUNCTION"},{"name":"storage.foldername","return_type":"_text","arguments":"name text","type":"FUNCTION"},{"name":"storage.extension","return_type":"text","arguments":"name text","type":"FUNCTION"},{"name":"extensions.encrypt","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.decrypt","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.encrypt_iv","return_type":"bytea","arguments":"bytea, bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.decrypt_iv","return_type":"bytea","arguments":"bytea, bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.gen_random_bytes","return_type":"bytea","arguments":"integer","type":"FUNCTION"},{"name":"extensions.gen_random_uuid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.sign","return_type":"text","arguments":"payload json, secret text, algorithm text DEFAULT 'HS256'::text","type":"FUNCTION"},{"name":"auth.uid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"auth.email","return_type":"text","arguments":"","type":"FUNCTION"},{"name":"storage.search","return_type":"record","arguments":"prefix text, bucketname text, limits integer DEFAULT 100, levels integer DEFAULT 1, offsets integer DEFAULT 0","type":"FUNCTION"},{"name":"extensions.uuid_nil","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_ns_dns","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_ns_url","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_ns_oid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_ns_x500","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_generate_v1","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_generate_v1mc","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"extensions.uuid_generate_v3","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"},{"name":"extensions.pgp_sym_encrypt","return_type":"bytea","arguments":"text, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_encrypt_bytea","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_encrypt","return_type":"bytea","arguments":"text, text, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_encrypt_bytea","return_type":"bytea","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_decrypt","return_type":"text","arguments":"bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_decrypt_bytea","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_decrypt","return_type":"text","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"extensions.pgp_sym_decrypt_bytea","return_type":"bytea","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_encrypt","return_type":"bytea","arguments":"text, bytea","type":"FUNCTION"},{"name":"extensions.pgp_pub_encrypt_bytea","return_type":"bytea","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"extensions.pgp_pub_encrypt","return_type":"bytea","arguments":"text, bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_encrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea, text, text","type":"FUNCTION"},{"name":"extensions.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text, text","type":"FUNCTION"},{"name":"extensions.pgp_key_id","return_type":"text","arguments":"bytea","type":"FUNCTION"},{"name":"extensions.armor","return_type":"text","arguments":"bytea","type":"FUNCTION"},{"name":"extensions.armor","return_type":"text","arguments":"bytea, text[], text[]","type":"FUNCTION"},{"name":"extensions.dearmor","return_type":"bytea","arguments":"text","type":"FUNCTION"},{"name":"extensions.pgp_armor_headers","return_type":"record","arguments":"text, OUT key text, OUT value text","type":"FUNCTION"},{"name":"extensions.url_encode","return_type":"text","arguments":"data bytea","type":"FUNCTION"},{"name":"extensions.url_decode","return_type":"bytea","arguments":"data text","type":"FUNCTION"},{"name":"extensions.algorithm_sign","return_type":"text","arguments":"signables text, secret text, algorithm text","type":"FUNCTION"},{"name":"extensions.try_cast_double","return_type":"float8","arguments":"inp text","type":"FUNCTION"},{"name":"extensions.verify","return_type":"record","arguments":"token text, secret text, algorithm text DEFAULT 'HS256'::text","type":"FUNCTION"},{"name":"extensions.grant_pg_cron_access","return_type":"event_trigger","arguments":"","type":"FUNCTION"},{"name":"net.check_worker_is_up","return_type":"void","arguments":"","type":"FUNCTION"},{"name":"net._await_response","return_type":"bool","arguments":"request_id bigint","type":"FUNCTION"},{"name":"net._urlencode_string","return_type":"text","arguments":"string character varying","type":"FUNCTION"},{"name":"net._encode_url_with_params_array","return_type":"text","arguments":"url text, params_array text[]","type":"FUNCTION"},{"name":"net.http_delete","return_type":"int8","arguments":"url text, params jsonb DEFAULT '{}'::jsonb, headers jsonb DEFAULT '{}'::jsonb, timeout_milliseconds integer DEFAULT 2000","type":"FUNCTION"},{"name":"net._http_collect_response","return_type":"http_response_result","arguments":"request_id bigint, async boolean DEFAULT true","type":"FUNCTION"},{"name":"net.http_collect_response","return_type":"http_response_result","arguments":"request_id bigint, async boolean DEFAULT true","type":"FUNCTION"},{"name":"supabase_functions.http_request","return_type":"trigger","arguments":"","type":"FUNCTION"},{"name":"public.active_subject_count","return_type":"int4","arguments":"study study","type":"FUNCTION"},{"name":"public.can_edit","return_type":"bool","arguments":"user_id uuid, study_param study","type":"FUNCTION"},{"name":"public.get_study_from_invite","return_type":"record","arguments":"invite_code text","type":"FUNCTION"},{"name":"extensions.moddatetime","return_type":"trigger","arguments":"","type":"FUNCTION"},{"name":"public.get_study_record_from_invite","return_type":"study","arguments":"invite_code text","type":"FUNCTION"},{"name":"public.handle_new_user","return_type":"trigger","arguments":"","type":"FUNCTION"},{"name":"public.has_study_ended","return_type":"bool","arguments":"psubject_id uuid","type":"FUNCTION"},{"name":"public.has_study_ended","return_type":"bool","arguments":"subject study_subject","type":"FUNCTION"},{"name":"public.is_active_subject","return_type":"bool","arguments":"psubject_id uuid, days_active integer","type":"FUNCTION"},{"name":"public.is_study_subject_of","return_type":"bool","arguments":"_user_id uuid, _study_id uuid","type":"FUNCTION"},{"name":"public.last_completed_task","return_type":"date","arguments":"psubject_id uuid","type":"FUNCTION"},{"name":"public.study_active_days","return_type":"_int4","arguments":"study_param study","type":"FUNCTION"},{"name":"public.study_ended_count","return_type":"int4","arguments":"study study","type":"FUNCTION"},{"name":"public.study_length","return_type":"int4","arguments":"study_param study","type":"FUNCTION"},{"name":"public.study_missed_days","return_type":"_int4","arguments":"study_param study","type":"FUNCTION"},{"name":"public.study_participant_count","return_type":"int4","arguments":"study study","type":"FUNCTION"},{"name":"public.study_total_tasks","return_type":"int4","arguments":"subject study_subject","type":"FUNCTION"},{"name":"net.http_get","return_type":"int8","arguments":"url text, params jsonb DEFAULT '{}'::jsonb, headers jsonb DEFAULT '{}'::jsonb, timeout_milliseconds integer DEFAULT 2000","type":"FUNCTION"},{"name":"net.http_post","return_type":"int8","arguments":"url text, body jsonb DEFAULT '{}'::jsonb, params jsonb DEFAULT '{}'::jsonb, headers jsonb DEFAULT '{\"Content-Type\": \"application/json\"}'::jsonb, timeout_milliseconds integer DEFAULT 2000","type":"FUNCTION"},{"name":"extensions.grant_pg_net_access","return_type":"event_trigger","arguments":"","type":"FUNCTION"},{"name":"public.subject_current_day","return_type":"int4","arguments":"subject study_subject","type":"FUNCTION"},{"name":"public.subject_total_active_days","return_type":"int4","arguments":"subject study_subject","type":"FUNCTION"},{"name":"public.user_email","return_type":"text","arguments":"user_id uuid","type":"FUNCTION"}],"driver":{"name":"postgres","database_version":"PostgreSQL 15.1 (Ubuntu 15.1-1.pgdg20.04+1) on x86_64-pc-linux-gnu, compiled by gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0, 64-bit","meta":{"current_schema":"public","search_paths":["\"\\$user\"","public","extensions"],"dict":{"Functions":"Stored procedures and functions"}}}}
